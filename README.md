# 从夯到拉 排名工具

一个基于 Web 的多模态标签排序工具，支持拖拽创建自定义排行榜，并具备智能标签生成功能。

## 🎉 部署方式

### 方式一：在线部署（推荐）🌐
- 免费、快速、自动更新
- 支持自定义域名
- [查看部署傻瓜教程](./部署傻瓜教程.md) 或 [3分钟部署](./3分钟部署.md)

### 方式二：桌面应用（离线使用）💻
- 支持离线使用（AI 功能除外）
- 无需浏览器，像软件一样使用
- 跨平台支持（Windows/macOS/Linux）
- [查看桌面应用打包指南](./DESKTOP_APP_GUIDE.md)

**快速打包：**
```bash
./scripts/build-desktop.sh
```

## 功能特性

- ✅ **五级排行榜**：夯、顶级、人上人、NPC、拉完了
- ✅ **多模态标签**：支持文字、图片、图文三种类型
- ✅ **拖拽交互**：流畅的拖拽排序体验
- ✅ **经典配色**：参考 Python 版本的颜色方案
- ✅ **词条管理**：添加、删除、重置功能
- ✅ **智能生成**：一键添加评价，自动搜索并生成相关标签
- ✅ **响应式设计**：适配桌面和移动端

## 等级配色方案

| 等级 | 名称 | 颜色 | RGB 值 |
|------|------|------|--------|
| S级 | 夯 | 红色 | #ff4d4f |
| A级 | 顶级 | 橙色 | #ffa940 |
| B级 | 人上人 | 黄色 | #ffec3d |
| C级 | NPC | 浅灰 | #e0e0e0 |
| D级 | 拉完了 | 白色 | #ffffff |

## 使用说明

### 添加词条

**方式一：手动添加**
1. 点击"添加词条"按钮
2. 输入词条名称
3. 选择词条类型（文字/图片/图文）
4. 如果是图片或图文类型，可输入图片URL
5. 点击"添加"完成

**方式二：智能生成（推荐）**

**Web 版本：**
1. 点击"一键添加评价"按钮
2. 输入类别（例如：奶茶店饮品店、餐厅美食、游戏角色）
3. 可选输入标签数量（默认5个，最多20个）
4. 点击"生成"按钮，系统会自动搜索网络并生成相关标签
5. 预览生成的标签，点击"全部添加"即可

**桌面版本：**
1. 点击"一键添加评价"按钮
2. 在"API Key"输入框中输入您的 LLM API Key
3. 输入类别和数量
4. 点击"生成"按钮
5. 预览生成的标签，点击"全部添加"即可

**注意：** 桌面版本的 API Key 仅保存在本地，不会上传到任何服务器。

### 排序词条

1. 长按并拖拽词条
2. 将词条拖动到目标等级区域
3. 松开鼠标完成放置

### 删除词条

1. 点击词条右上角的删除按钮
2. 确认删除

### 重置榜单

点击"重置"按钮，将所有已排序的词条移回未排序池。

## 技术栈

- **框架**: Next.js 16 + React 19
- **语言**: TypeScript 5
- **样式**: Tailwind CSS 4
- **拖拽**: @dnd-kit
- **UI组件**: shadcn/ui
- **智能搜索**: coze-coding-dev-sdk (联网搜索集成)

## 项目结构

```
src/
├── app/
│   ├── api/
│   │   └── generate-tags/      # 智能标签生成API
│   │       └── route.ts
│   └── page.tsx                # 主页面
├── components/
│   ├── TierRow.tsx             # 等级行组件
│   ├── UnsortedPool.tsx        # 未排序池组件
│   ├── SortableTagItem.tsx     # 可排序词条组件
│   ├── AddTagDialog.tsx        # 添加词条对话框
│   ├── QuickAddDialog.tsx      # 一键添加评价对话框
│   └── ui/                     # shadcn/ui 组件
└── types/
    └── ranking.ts              # 类型定义
```

## 智能标签生成

### 工作原理

"一键添加评价"功能利用联网搜索集成，自动为您生成相关标签：

1. **网络搜索**：系统根据您输入的类别搜索网络上的相关内容
2. **品牌提取**：从搜索结果中智能提取品牌名称和关键词
3. **图片匹配**：自动查找并匹配相关的品牌图片
4. **智能生成**：组合文字和图片，生成图文并茂的标签

### 使用示例

**输入：** 奶茶店饮品店  
**生成结果：** 蜜雪冰城、瑞幸咖啡、星巴克、喜茶、奈雪的茶...

**输入：** 游戏角色  
**生成结果：** 自动生成热门游戏角色的相关标签

### 技术实现

- 使用 `coze-coding-dev-sdk` 的联网搜索功能
- 同时进行网页搜索和图片搜索
- 智能解析搜索结果，提取关键信息
- 支持默认标签生成（当搜索失败时）

## 开发说明

### 安装依赖

```bash
pnpm install
```

### 启动开发服务器

```bash
coze dev
```

应用将在 http://localhost:5000 启动。

### 构建生产版本

```bash
coze build
```

### 打包桌面应用

```bash
# 使用快速打包脚本
./scripts/build-desktop.sh

# 或手动执行
pnpm run build:next
pnpm run build:electron
pnpm run electron:dist
```

详细说明请查看 [桌面应用打包指南](./DESKTOP_APP_GUIDE.md)。

### 类型检查

```bash
npx tsc --noEmit
```

## 参考实现

本项目参考了 Python (PySide6) 版本的实现，保持了相同的布局结构和配色方案。

### 主要差异

1. **技术栈**: 从 PySide6 迁移到 React + Next.js
2. **响应式**: 添加了移动端适配
3. **交互**: 优化了拖拽体验和动画效果
4. **持久化**: 暂未实现本地存储功能（可扩展）

## 未来计划

- [ ] 添加本地存储持久化
- [ ] 支持导出为图片
- [ ] 支持导入/导出配置
- [ ] 添加更多预设模板
- [ ] 支持自定义颜色方案

## 许可证

MIT
